<!-- templates/page.contact.liquid -->

<div class="row">
  <div class="column l6 m12 s12">
    <h1>{{ page.title }}</h1>
    <div class="rte">
      {{ page.content }}
    </div>
  </div>
  <div class="column l6 m12 s12">
    <div id="ContactForm">

      {% form 'contact' %}
        {{ form.errors | default_errors }}
        {% if form.posted_successfully? %}
          <p class="success">
            {{ 'contact.success' | t }}
          </p>
        {% else %}

          {% assign name_attr = 'contact.name' | t | handleize %}
          <label for="ContactFormName">{{ 'contact.name' | t }}</label>
          <input type="text"
                 id="ContactFormName"
                 name="contact[{{ name_attr }}]"
                 autocapitalize="words"
                 value="{% if form[name_attr] %}{{ form[name_attr] }}{% elsif customer %}{{ customer.name }}{% endif %}">

          <label for="ContactFormEmail">{{ 'contact.email' | t }}</label>
          <input type="email"
                 id="ContactFormEmail"
                 name="contact[email]"
                 spellcheck="false"
                 autocomplete="off"
                 autocapitalize="off"
                 value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}">

          {% assign name_attr = 'contact.phone' | t | handleize %}
          <label for="ContactFormPhone">{{ 'contact.phone' | t }}</label>
          <input type="tel"
                 id="ContactFormPhone"
                 name="contact[{{ name_attr }}]"
                 pattern="[0-9\-]*"
                 value="{% if form[name_attr] %}{{ form[name_attr] }}{% elsif customer %}{{ customer.phone }}{% endif %}">

          <label for="ContactFormMessage">{{ 'contact.message' | t }}</label>
          <textarea rows="10"
                    id="ContactFormMessage"
                    name="contact[body]">{% if form.body %}{{ form.body }}{% endif %}</textarea>

          <button type="submit">{{ 'contact.send' | t }}</button>

        {% endif %}
      {% endform %}

    </div>
  </div>
</div>
